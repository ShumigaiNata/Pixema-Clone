"use strict";(self.webpackChunkdiploma=self.webpackChunkdiploma||[]).push([[938],{1938:function(e,t,i){i.r(t),i.d(t,{default:function(){return se}});var a,l=i(2791),n=i(7587),r=i(9527);!function(e){e.director="DIRECTOR",e.writer="WRITER",e.actor="ACTOR"}(a||(a={}));var c={tableHeader:"TableItem_tableHeader__PPPgx",tableData:"TableItem_tableData__74HXe",light:"TableItem_light__t47E8"},s=i(184),o=function(e){var t=e.tableHeader,i=void 0===t?"":t,a=e.tableData,l=void 0===a?"":a,r=(0,n.Fg)().isLightTheme;return(0,s.jsxs)("tr",{className:c.tableRow,children:[(0,s.jsx)("th",{className:c.tableHeader,children:i}),(0,s.jsx)("td",{className:"".concat(c.tableData," ").concat(r&&c.light),children:l})]})},d="Table_tableAbout__3L8-Z",m=function(e){var t=e.config,i=void 0===t?[]:t;return(0,s.jsx)("table",{className:d,children:(0,s.jsx)("tbody",{children:i.map((function(e){return(0,s.jsx)(o,{tableHeader:e.tableHeader,tableData:e.tableData},e.tableHeader)}))})})},u=i(1413),f=i(885),v=i(9434),_=i(60),h=i(5984),b="SocialNetwork_wrapper__x8bPd",g="SocialNetwork_lightWrapper__s-YKF",p="SocialNetwork_text__SvBfi",x="SocialNetwork_lightText__2H9x7",j="SocialNetwork_buttonShare__G6j9f",S=function(){var e=(0,n.Fg)().isLightTheme;return(0,s.jsxs)("div",{className:"".concat(b," ").concat(e&&g),children:[(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"".concat(p," ").concat(e&&x),children:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f:"})}),(0,s.jsx)("div",{className:j,children:(0,s.jsx)("div",{className:"uSocial-Share","data-pid":"d3c4f9aca735ce62c6200be409f617af","data-type":"share","data-social":"vk,telegram,fb","data-options":"round-rect,style1,default,absolute,horizontal,size32,eachCounter0,counter0,mobile_position_left,cutUrl"})})]})};var F=i.p+"static/media/Bookmark.95e9e87510d9d5ec6553f105f49fbd73.svg";var N=i.p+"static/media/WhiteBookmark.cf40f2802824881d25e588a7e1a5b698.svg",k=i(2346);var w=i.p+"static/media/ShareNodes.7e1a2635c9dfd0ce8001f30aeaa8a828.svg";var H=i.p+"static/media/WhiteShare.3b78aeb377f252fb4e13d148c2aaf88c.svg";var T=i.p+"static/media/PurpleShare.416e3ab96d7495b10ff9431e0b344d42.svg",Z="SelectedFilmActions_actions__HuOrd",y="SelectedFilmActions_buttonBookmark__uRJhw",C="SelectedFilmActions_buttonShare__WDby6",D="SelectedFilmActions_socialsWrapper__IuUlQ",R="SelectedFilmActions_lightButton__2r1dl",L=function(e){var t=e.film,i=(0,v.I0)(),a=(0,n.Fg)(),r=a.isLightTheme,c=a.isDarkTheme,o=(0,l.useState)(!1),d=(0,f.Z)(o,2),m=d[0],b=d[1];return(0,s.jsxs)("div",{className:Z,children:[(0,s.jsx)(h.ZP,{onClick:function(){i((0,_.MO)((0,u.Z)((0,u.Z)({},t),{},{favorite:!t.favorite})))},variant:h.pG.forSelectedFilm,className:"".concat(y," ").concat(r&&R),children:(0,s.jsx)("img",{src:r&&t.favorite?k.Z:c&&t.favorite||r?N:F,alt:"bookmarkIcon"})}),(0,s.jsx)(h.ZP,{onClick:function(){return b((function(e){return!e}))},variant:h.pG.forSelectedFilm,className:"".concat(C," ").concat(r&&R),children:(0,s.jsx)("img",{src:r&&m?T:c&&m||r?H:w,alt:"shareIcon"})}),(0,s.jsx)("div",{className:D,children:m&&(0,s.jsx)(S,{})})]})},I=i(4165),P=i(5861),G=i(411),M=i(5671),A=i(3144),B=i(3354),E=i(9277),K=function(){function e(){(0,M.Z)(this,e)}return(0,A.Z)(e,null,[{key:"getRecommendations",value:function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t,i=arguments;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:1,e.next=3,B.Z.get("https://kinopoiskapiunofficial.tech/api/v2.2/films?genres=".concat(t)).then(E.A).then((function(e){var t=[];return e.items.forEach((function(e){t.push(e)})),t}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),W=i(571);var U=i.p+"static/media/arrowLeftDark.2fbf290c60eb28e9ddbe8509b5d68409.svg";var V=i.p+"static/media/arrowLeftLight.73a7fef8bbfde0b7c972f57fd0e29038.svg";var z=i.p+"static/media/arrowRightDark.923ad59a78b981c532992c9fcbede5b5.svg";var O=i.p+"static/media/arrowRightLight.fc309d736323d6d2b3e26197a83a7906.svg",X="Arrows_arrows__H6VNj",J="Arrows_arrow__jMaYH",Y=function(){var e=(0,n.Fg)().isLightTheme,t=(0,l.useContext)(le).changeSlide;return(0,s.jsxs)("div",{className:X,children:[(0,s.jsx)(h.ZP,{variant:h.pG.forIcon,className:J,onClick:function(){t(-1)},children:(0,s.jsx)("img",{src:e?U:V,alt:"arrowRight"})}),(0,s.jsx)(h.ZP,{variant:h.pG.forIcon,className:J,onClick:function(){t(1)},children:(0,s.jsx)("img",{src:e?z:O,alt:"arrowRight"})})]})},Q=i(417),$="SliderContext_slider__UA+3f",q="SliderContext_recommendHeader__odBj7",ee="SliderContext_slideList__DGrWH",te="SliderContext_light__K72ew",ie="SliderContext_film__BNU8S",ae=function(){var e=(0,r.k)(),t=e.isViewForSlider,i=e.isSecondaryView,a=e.isTabletView,n=e.isMobileView,c=(0,l.useContext)(le),o=c.slideNumber,d=c.items,m=n?281:a?480:i?498:t?614:920;return(0,s.jsx)("div",{className:ee,style:{transform:"translateX(-".concat(o&&o*m,"px)")},children:null===d||void 0===d?void 0:d.map((function(e,t){return(0,s.jsx)(Q.Z,(0,u.Z)((0,u.Z)({},e),{},{className:ie}),t)}))})},le=(0,l.createContext)({items:[],slidesCount:null,slideNumber:null,changeSlide:function(){}}),ne=function(e){var t=e.str,i=void 0===t?"":t,a=e.limit,r=void 0===a?4:a,c=e.autoPlay,o=void 0!==c&&c,d=e.autoPlayTime,m=void 0===d?5e3:d,u=(0,n.Fg)().isLightTheme,v=(0,l.useState)([]),_=(0,f.Z)(v,2),h=_[0],b=_[1],g=(0,l.useState)(0),p=(0,f.Z)(g,2),x=p[0],j=p[1],S=(0,l.useState)(null),F=(0,f.Z)(S,2),N=F[0],k=F[1],w=h.length/r,H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;j(x+e<0?w-1:(x+e)%w)};return(0,l.useEffect)((function(){var e=function(){var e=(0,P.Z)((0,I.Z)().mark((function e(){var t,a,l,n;return(0,I.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.Z.getGenresId();case 2:if(!(t=e.sent)){e.next=9;break}return l=null===(a=t.find((function(e){return(null===e||void 0===e?void 0:e.genre)===i})))||void 0===a?void 0:a.id,e.next=7,K.getRecommendations(l);case 7:n=e.sent,b(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){if(o){var e=setInterval((function(){H(1)}),m);return function(){clearInterval(e)}}}),[h.length,x]),(0,s.jsx)("div",{className:$,onTouchStart:function(e){var t=e.touches[0].clientX;k(t)},onTouchMove:function(e){if(null!==N){var t=e.touches[0].clientX,i=N-t;i>10&&H(1),i<-10&&H(-1),k(null)}},children:(0,s.jsxs)(le.Provider,{value:{items:h,slidesCount:h.length,slideNumber:x,changeSlide:H},children:[(0,s.jsxs)("div",{className:q,children:[(0,s.jsx)(W.Z,{className:u?te:"",variant:W.B.big,text:"Recommendations"}),(0,s.jsx)(Y,{})]}),(0,s.jsx)(ae,{})]})})};var re=i.p+"static/media/IMDb.81b5b92c82b98f43ac9676c0163ae985.svg",ce={selectedFilm:"SelectedFilm_selectedFilm__hWT7G",poster:"SelectedFilm_poster__I9Hvn",selectedFilmGenre:"SelectedFilm_selectedFilmGenre__mbKCy",selectedFilmTitle:"SelectedFilm_selectedFilmTitle__JM-0T",selectedFilmMarkers:"SelectedFilm_selectedFilmMarkers__CKKW2",ratings:"SelectedFilm_ratings__HEl3i",yellow:"SelectedFilm_yellow__iGZxE",red:"SelectedFilm_red__7z5G8",imdb:"SelectedFilm_imdb__N6Vs7",runTime:"SelectedFilm_runTime__KC-i0",selectedFilmPlot:"SelectedFilm_selectedFilmPlot__NlBzg",selectedFilmDescription:"SelectedFilm_selectedFilmDescription__HBJHe",light:"SelectedFilm_light__wiKtH",recommendations:"SelectedFilm_recommendations__jajBL",recommendHeader:"SelectedFilm_recommendHeader__a1Mp8",selectedFilmLeftSide:"SelectedFilm_selectedFilmLeftSide__coLjM"},se=function(e){var t=(0,n.Fg)().isLightTheme,i=(0,r.k)().isMobileView,l=e.posterUrl,c=e.ratingAgeLimits,o=e.genres,d=e.nameRu,u=e.ratingKinopoisk,f=e.filmLength,v=e.description,_=e.year,h=e.boxOffice,b=e.countries,g=e.actors,p=e.directors,x=e.writers,j=null===c||void 0===c?void 0:c.replace(/[^0-9]/g,""),S=null===h||void 0===h?void 0:h.filter((function(e){return"BUDGET"===e.type})).map((function(e){return e.symbol+e.amount})).join(),F=null===b||void 0===b?void 0:b.map((function(e){return e.country[0].toUpperCase()+e.country.slice(1)})).join(", "),N=null===g||void 0===g?void 0:g.filter((function(e){return e.professionKey===a.actor})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),k=null===p||void 0===p?void 0:p.filter((function(e){return e.professionKey===a.director})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),w=null===x||void 0===x?void 0:x.filter((function(e){return e.professionKey===a.writer})).map((function(e){return e.nameRu?e.nameRu:e.nameEn})).slice(0,5).join(", "),H=null===o||void 0===o?void 0:o.map((function(e){return e.genre[0].toUpperCase()+e.genre.slice(1)})).join(" \u2022 "),T=[{tableHeader:"\u0413\u043e\u0434 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u0430",tableData:_},{tableHeader:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",tableData:c?"+"+j:"+16"},{tableHeader:"\u0411\u044e\u0434\u0436\u0435\u0442",tableData:S||"$1000000"},{tableHeader:"\u0421\u0442\u0440\u0430\u043d\u0430",tableData:F},{tableHeader:"\u0410\u043a\u0442\u0451\u0440\u044b",tableData:N||"-"},{tableHeader:"\u0420\u0435\u0436\u0438\u0441\u0441\u0451\u0440\u044b",tableData:k||"-"},{tableHeader:"\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439",tableData:w||"-"}];return(0,s.jsxs)("div",{className:ce.selectedFilm,children:[!i&&(0,s.jsxs)("div",{className:ce.selectedFilmLeftSide,children:[(0,s.jsx)("img",{src:l,className:ce.poster,loading:"lazy",alt:"poster"}),(0,s.jsx)(L,{film:e})]}),(0,s.jsxs)("div",{className:ce.selectedFilmRightSide,children:[(0,s.jsx)("div",{className:ce.selectedFilmGenre,children:H}),(0,s.jsx)("h1",{className:"".concat(ce.selectedFilmTitle," ").concat(t&&ce.light),children:d}),(0,s.jsxs)("div",{className:ce.selectedFilmMarkers,children:[null===u?(0,s.jsx)("div",{className:"".concat(ce.yellow),children:5}):(0,s.jsx)("div",{className:"".concat(u<5?ce.red:u>=7?ce.ratings:ce.yellow),children:u}),(0,s.jsxs)("div",{className:"".concat(ce.imdb," ").concat(t&&ce.lightMarkers),children:[(0,s.jsx)("img",{src:re,alt:"imdb"}),u||5]}),(0,s.jsxs)("div",{className:"".concat(ce.runTime," ").concat(t&&ce.lightMarkers),children:[f||120," min"]})]}),i&&(0,s.jsxs)("div",{className:ce.selectedFilmLeftSide,children:[(0,s.jsx)("img",{src:l,className:ce.poster,loading:"lazy",alt:"poster"}),(0,s.jsx)(L,{film:e})]}),!!v&&(0,s.jsx)("div",{className:"".concat(ce.selectedFilmPlot," ").concat(t&&ce.light),children:v}),(0,s.jsxs)("div",{className:ce.selectedFilmDescription,children:[(0,s.jsx)(m,{config:T}),(0,s.jsx)("div",{className:ce.recommendations,children:(0,s.jsx)(ne,{str:null!==o&&void 0!==o&&o.length?o[0].genre:"\u043a\u043e\u043c\u0435\u0434\u0438\u044f"})})]})]})]})}}}]);
//# sourceMappingURL=938.4e050d6f.chunk.js.map